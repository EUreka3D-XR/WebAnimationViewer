import{j as e,k as t}from"./index-BeBPThKX.esm.min.js";import{I as r}from"./iblCdfGenerator-BKa3_MdX.esm.min.js";import"./rawTexture-OHFtV4yv.esm.min.js";Object.defineProperty(t.prototype,"iblCdfGenerator",{get:function(){return this._iblCdfGenerator},set:function(e){e&&(this._iblCdfGenerator=e)},enumerable:!0,configurable:!0}),t.prototype.enableIblCdfGenerator=function(){return this._iblCdfGenerator?this._iblCdfGenerator:(this._iblCdfGenerator=new r(this),this._iblCdfGenerator.isSupported?(this.environmentTexture&&(this._iblCdfGenerator.iblSource=this.environmentTexture),this._iblCdfGenerator):(this._iblCdfGenerator=null,null))},t.prototype.disableIblCdfGenerator=function(){this._iblCdfGenerator&&(this._iblCdfGenerator.dispose(),this._iblCdfGenerator=null)};class n{constructor(t){this.name=e.NAME_IBLCDFGENERATOR,this._newIblObserver=null,this.scene=t}register(){this._updateIblSource(),this._newIblObserver=this.scene.onEnvironmentTextureChangedObservable.add(this._updateIblSource.bind(this))}rebuild(){}dispose(){this.scene.onEnvironmentTextureChangedObservable.remove(this._newIblObserver)}_updateIblSource(){this.scene.iblCdfGenerator&&this.scene.environmentTexture&&(this.scene.iblCdfGenerator.iblSource=this.scene.environmentTexture)}}r._SceneComponentInitialization=t=>{let r=t._getComponent(e.NAME_IBLCDFGENERATOR);r||(r=new n(t),t._addComponent(r))};export{n as IblCdfGeneratorSceneComponent};
//# sourceMappingURL=iblCdfGeneratorSceneComponent-Dlq2EsVc.esm.min.js.map
