import{GLTFLoader as e}from"./glTFLoader-ASl42hNE.esm.min.js";import{bK as i,bJ as s}from"./index-BeBPThKX.esm.min.js";import"./bone-4zSTwM2L.esm.min.js";import"./skeleton-BM6jc2S2.esm.min.js";import"./rawTexture-OHFtV4yv.esm.min.js";import"./assetContainer-C4iCgc7c.esm.min.js";import"./objectModelMapping-C_2yKgOV.esm.min.js";const r="KHR_materials_iridescence";class n{constructor(e){this.name=r,this.order=195,this._loader=e,this.enabled=this._loader.isExtensionUsed(r)}dispose(){this._loader=null}loadMaterialPropertiesAsync(i,s,r){return e.LoadExtensionAsync(i,s,this.name,(async(e,n)=>{const t=new Array;return t.push(this._loader.loadMaterialPropertiesAsync(i,s,r)),t.push(this._loadIridescencePropertiesAsync(e,n,r)),await Promise.all(t).then((()=>{}))}))}_loadIridescencePropertiesAsync(e,i,s){const r=this._loader._getOrCreateMaterialAdapter(s),n=new Array;return r.thinFilmWeight=i.iridescenceFactor??0,r.thinFilmIor=i.iridescenceIor??i.iridescenceIOR??1.3,r.thinFilmThicknessMinimum=i.iridescenceThicknessMinimum??100,r.thinFilmThicknessMaximum=i.iridescenceThicknessMaximum??400,i.iridescenceTexture&&n.push(this._loader.loadTextureInfoAsync(`${e}/iridescenceTexture`,i.iridescenceTexture,(e=>{e.name=`${s.name} (Iridescence)`,r.thinFilmWeightTexture=e}))),i.iridescenceThicknessTexture&&n.push(this._loader.loadTextureInfoAsync(`${e}/iridescenceThicknessTexture`,i.iridescenceThicknessTexture,(e=>{e.name=`${s.name} (Iridescence Thickness)`,r.thinFilmThicknessTexture=e}))),Promise.all(n).then((()=>{}))}}i(r),s(r,!0,(e=>new n(e)));export{n as KHR_materials_iridescence};
//# sourceMappingURL=KHR_materials_iridescence-xQVWvYmz.esm.min.js.map
