import{GLTFLoader as e}from"./glTFLoader-ASl42hNE.esm.min.js";import{aW as s,bK as o,bJ as r}from"./index-BeBPThKX.esm.min.js";import"./bone-4zSTwM2L.esm.min.js";import"./skeleton-BM6jc2S2.esm.min.js";import"./rawTexture-OHFtV4yv.esm.min.js";import"./assetContainer-C4iCgc7c.esm.min.js";import"./objectModelMapping-C_2yKgOV.esm.min.js";const n="KHR_materials_sheen";class t{constructor(e){this.name=n,this.order=190,this._loader=e,this.enabled=this._loader.isExtensionUsed(n)}dispose(){this._loader=null}loadMaterialPropertiesAsync(s,o,r){return e.LoadExtensionAsync(s,o,this.name,(async(e,n)=>{const t=new Array;return t.push(this._loader.loadMaterialPropertiesAsync(s,o,r)),t.push(this._loadSheenPropertiesAsync(e,n,r)),await Promise.all(t).then((()=>{}))}))}_loadSheenPropertiesAsync(e,o,r){const n=this._loader._getOrCreateMaterialAdapter(r),t=new Array;n.configureFuzz();const a=void 0!==o.sheenColorFactor?s.FromArray(o.sheenColorFactor):s.Black(),i=void 0!==o.sheenRoughnessFactor?o.sheenRoughnessFactor:0;return n.fuzzWeight=1,n.fuzzColor=a,n.fuzzRoughness=i,o.sheenColorTexture&&t.push(this._loader.loadTextureInfoAsync(`${e}/sheenColorTexture`,o.sheenColorTexture,(e=>{e.name=`${r.name} (Sheen Color)`,n.fuzzColorTexture=e}))),o.sheenRoughnessTexture&&(o.sheenRoughnessTexture.nonColorData=!0,t.push(this._loader.loadTextureInfoAsync(`${e}/sheenRoughnessTexture`,o.sheenRoughnessTexture,(e=>{e.name=`${r.name} (Sheen Roughness)`,n.fuzzRoughnessTexture=e})))),Promise.all(t).then((()=>{}))}}o(n),r(n,!0,(e=>new t(e)));export{t as KHR_materials_sheen};
//# sourceMappingURL=KHR_materials_sheen-DJYo9L7J.esm.min.js.map
