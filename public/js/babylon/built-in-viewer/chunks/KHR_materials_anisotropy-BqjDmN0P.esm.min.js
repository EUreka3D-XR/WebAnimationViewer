import{GLTFLoader as e}from"./glTFLoader-ASl42hNE.esm.min.js";import{bK as o,bJ as s}from"./index-BeBPThKX.esm.min.js";import"./bone-4zSTwM2L.esm.min.js";import"./skeleton-BM6jc2S2.esm.min.js";import"./rawTexture-OHFtV4yv.esm.min.js";import"./assetContainer-C4iCgc7c.esm.min.js";import"./objectModelMapping-C_2yKgOV.esm.min.js";const t="KHR_materials_anisotropy";class r{constructor(e){this.name=t,this.order=195,this._loader=e,this.enabled=this._loader.isExtensionUsed(t)}dispose(){this._loader=null}loadMaterialPropertiesAsync(o,s,t){return e.LoadExtensionAsync(o,s,this.name,(async(e,r)=>{const n=new Array;n.push(this._loader.loadMaterialPropertiesAsync(o,s,t)),n.push(this._loadAnisotropyPropertiesAsync(e,r,t)),await Promise.all(n)}))}async _loadAnisotropyPropertiesAsync(e,o,s){const t=this._loader._getOrCreateMaterialAdapter(s),r=new Array,n=o.anisotropyStrength??0,a=o.anisotropyRotation??0;t.specularRoughnessAnisotropy=n,t.geometryTangentAngle=a;const i=o.extensions??{};i.EXT_materials_anisotropy_openpbr&&i.EXT_materials_anisotropy_openpbr.openPbrAnisotropyEnabled||t.configureGltfStyleAnisotropy(!0),o.anisotropyTexture&&(o.anisotropyTexture.nonColorData=!0,r.push(this._loader.loadTextureInfoAsync(`${e}/anisotropyTexture`,o.anisotropyTexture,(e=>{e.name=`${s.name} (Anisotropy Intensity)`,t.geometryTangentTexture=e})))),await Promise.all(r)}}o(t),s(t,!0,(e=>new r(e)));export{r as KHR_materials_anisotropy};
//# sourceMappingURL=KHR_materials_anisotropy-BqjDmN0P.esm.min.js.map
